<h1>Pokemon abm</h1>

<div class="abm-container">
  <!-- Top-left: Add Pokemon -->
  <div class="abm-left">
    <section class="abm-add-section">
      <h2>Agregar Pokemon por id</h2>
      <input [formControl]="idPokemon" type="number" placeholder="ID">
      <button (click)="agregarPokemon()">Agregar Pokemon</button>
    </section>
  </div>

  <!-- Right: Table -->
  <div class="abm-right">
    <section>
      <input type="text" #searchBarInput placeholder="Buscar Pokemon...">
      <button (click)="searchPokemons(searchBarInput.value)">Buscar</button>
      <table class="abm-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Tipo 1</th>
            <th>Tipo 2</th>
            <th>Peso</th>
            <th>Altura</th>
            <th>Tipo de Huevo 1</th>
            <th>Tipo de Huevo 2</th>
            <th>Forma Corporal</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pokemon of pokemons">
            <td >{{pokemon.id}}</td>
            <td #nombre>{{pokemon.nombre}}</td>
            <td #tipo_1>{{pokemon.tipo_1}}</td>
            <td #tipo_2>{{pokemon.tipo_2}}</td>
            <td #pesoKilos>{{pokemon.pesoKilos}}</td>
            <td #alturaCM>{{pokemon.alturaCM}}</td>
            <td #grupo_huevo_1>{{pokemon.grupo_huevo_1}}</td>
            <td #grupo_huevo_2>{{pokemon.grupo_huevo_2}}</td>
            <td #forma_corporal>{{pokemon.bodyShape}}</td>
            <td class="actions">
              <button class="icon-btn" title="Editar" (click)="startEdit(pokemon.id, pokemon.nombre, pokemon.tipo_1, pokemon.tipo_2)">
                <!-- Edit icon SVG -->
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 21h17M14.7 5.3a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-9.3 9.3-4 1 1-4 9.3-9.3z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <button class="icon-btn" title="Eliminar" (click)="eliminarPokemon(pokemon.id)">
                <!-- Trash icon SVG -->
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m2 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </section>
  </div>

  
  <div class="abm-modify-section" *ngIf="selectedPokemonId">
    <h2>Modificar Pokemon</h2>
    <label>ID</label>
    <input type="number" [value]="selectedPokemonId" disabled>
    <label>Nombre</label>
    <input type="text" #nombreInput [value]="selectedPokemonName">
    <div class="tipo-selectors">
    <label class="tipo-text">Tipo 1</label>
    <select #tipo1Input [value]="selectedPokemonType1" class="tipo-select">
    <option value="normal">Normal</option>
    <option value="fire">Fire</option>
    <option value="water">Water</option>
    <option value="electric">Electric</option>
    <option value="grass">Grass</option>
    <option value="ice">Ice</option>
    <option value="fighting">Fighting</option>
    <option value="poison">Poison</option>
    <option value="ground">Ground</option>
    <option value="flying">Flying</option>
    <option value="psychic">Psychic</option>
    <option value="bug">Bug</option>
    <option value="rock">Rock</option>
    <option value="ghost">Ghost</option>
    <option value="dragon">Dragon</option>
    <option value="dark">Dark</option>
    <option value="steel">Steel</option>
    <option value="fairy">Fairy</option>
    </select>
    <label class="tipo-text">Tipo 2</label>
    
    <select #tipo2Input [value]="selectedPokemonType2" class="tipo-select"> 
    <option value="normal">Normal</option>
    <option value="fire">Fire</option>
    <option value="water">Water</option>
    <option value="electric">Electric</option>
    <option value="grass">Grass</option>
    <option value="ice">Ice</option>
    <option value="fighting">Fighting</option>
    <option value="poison">Poison</option>
    <option value="ground">Ground</option>
    <option value="flying">Flying</option>
    <option value="psychic">Psychic</option>
    <option value="bug">Bug</option>
    <option value="rock">Rock</option>
    <option value="ghost">Ghost</option>
    <option value="dragon">Dragon</option>
    <option value="dark">Dark</option>
    <option value="steel">Steel</option>
    <option value="fairy">Fairy</option>
    <option value="none">None</option>
    </select>
    </div>
    <div class="modify-buttons-container">
    <button (click)="modificarPokemon(selectedPokemonId, nombreInput.value, tipo1Input.value, tipo2Input.value)">Guardar Cambios</button>
    <button (click)="selectedPokemonId = null">Cancelar</button>
    </div>
  </div>
</div>


<div class="pagination-ui">
  <button class="icon-btn" title="Página anterior" (click)="changePage(-1)">
    
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
  <input
    #pageInput
    class="page-number"
    type="number"
    [min]="1"
    [value]="currentPage"
    (change)="goToPage(+pageInput.value)"
    style="width: 48px; text-align: center;"
  >
  <button class="icon-btn" title="Página siguiente" (click)="changePage(1)">
    <!-- Right arrow SVG -->
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
</div>

